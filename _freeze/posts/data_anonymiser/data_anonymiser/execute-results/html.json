{
  "hash": "b68a4334f99a0ff77261d73dbb32b9f1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Anonymiser\"\nformat:\n  html:\n    code-fold: true\n    toc: true\n    toc-location: left\ndate: \"2024-07-19\"\nauthor: \"Dr Matthew Cooper, Wesley Billingham\"\ncategories:\n  - Shiny\n  - R\ndraft: true\n---\n\n\n# Overview\n\nData access and security is a really important topic and one that can be challenging to navigate. Research ethics and governance approvals typically require detail about where and how data will be stored and analysed - and a researcher typically does not have approval for the data they are working with to be moved to other locations.\n\nThe rapid emergence of AI tools and online data analytics platforms (e.g. dashboards) may tempt researchers with the promise of short cuts to writing code and/or producing attractive figures with ease. For example, [sites like this](https://www.graphmaker.ai/) that will take an uploaded dataset and draw a figure from it following a user prompt - ***but where did your precious private research data just go?***\n\nBelow, we share a data anonymising (obscuring) app that you can run on your local machine. It will return to you, a \"similar\" dataset to your original dataset, allowing you to then safely use an online chat bot to assisted you to code up that complex figure or model.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](example_img.png){fig-align='center' width=700px}\n:::\n:::\n\n\n# Data anonymising shiny app\n\nThe app is a shiny app, written in R. When loaded it looks like this:\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](app_preview.png){fig-align='center' width=700px}\n:::\n:::\n\n\n## The process\n\nThe app simply does the following:\n\n-   takes an uploaded dataset (.csv or .xlsx),\n-   lets you choose which variables to keep and how many rows you want returned,\n-   returns to you a fully obscured dataset (.csv) for download *(see example above)*.\n\nContained on a tab within the app is a brief tabular report that compares your original data to the anonymised data.\n\n### Gettting started\n\nTo use the app, you can either download a `.zip` (or clone the github repository) at the following link:\n\n<https://github.com/TelethonKids/data_anonymiser>\n\n1.  Unzip the folder\n2.  In your R sesssion, ensure you are in directory of the unzipped files\n3.  In your R console, type `runApp()`\n\nYou may need to `install.packages()` a few packages, though this app only leverages very popular apps that most R users are likely to already have.\n\n## Data obscuring process\n\nThis is also explained on the app's landing page - but the detail of what is happening in the data obscuring process is as follows:\n\n-   **Column names:** These will all be replaced with a generic name of the form “VAR_1”, “VAR_2” etc\n-   **Continuous variables**\n    -   **15 or fewer unique values:** These will be randomly (evenly) replaced with integers 0 through to the n (where n is the number of unique values within that variable).\n    -   **More than 15 unique values:** Will be replaced with random normally distributed data that has the same mean and standard deviation as the original data.\n-   **Date variables:** The min and max date will be found within the provided data, then uniformly distributed dates between that min and max date will be returned.\n-   **Categorical variables (includes dichotomous variables)**\n    -   **15 or fewer unique categories:** These will be randomly (evenly) replaced with letters “A” through \"O\"\n    -   **More than 15 unique categories:** (For example studyIDs, names, addresses etc) these will be replaced with a random string of length 6 (may or may not be unique).\n\n# Closing notes\n\nThe app is by no means ground breaking or overly complex. The target audience is not likely the savvy analysis/coder, but perhaps you (the savvy analysis/coder) reading this might know of someone (or a research group) that could benefit from access to this. Or perhaps you could pursue/advocate for having this setup on an internal server (with no internet access) at your workplace for colleagues to use - this is what we have done at Telethon Kids.\n\nDaily we are entrusted with extremely personal data on our fellow human beings (deidentified or otherwise), anything we do to limit potential data breaches is to be encouraged.\n\n## Acknowledgements\n\nThanks to Wesley Billingham and Zac Dempsey for providing feedback on and reviewing this post.\n\nYou can look forward to seeing posts from these other team members here in the coming weeks and months.\n\n## Reproducibility Information\n\nSession information:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.3.3 (2024-02-29)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Sonoma 14.4.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Australia/Perth\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.3.3    fastmap_1.2.0     cli_3.6.3        \n [5] tools_4.3.3       htmltools_0.5.8.1 rstudioapi_0.16.0 yaml_2.3.8       \n [9] rmarkdown_2.27    knitr_1.47        jsonlite_1.8.8    xfun_0.45        \n[13] digest_0.6.36     rlang_1.1.4       evaluate_0.24.0  \n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}