{
  "hash": "0773fa7bf170d0075fc78d0713fb4f7e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Visualisation for likert data\"\nauthor: \"Dr Matt Cooper and Zac Dempsey\"\nformat:\n  html:\n    code-fold: true\n    tabset: true\n    toc: true\n    toc-location: left\ndate: \"2024-09-30\"\ncategories:\n  - R\n  - Visualisations\ndraft: true\neditor_options: \n  chunk_output_type: console\nexecute:\n  echo: true\n  warning: false\n  message: false\n  error: true\nfig-align: center\nfig-format: png\nfig-dpi: 300\n---\n\n\n\n# Overview\n\nLikert data are widely found in research, they are useful for getting participants to rate things or to provide an average quantity as a response in situations where asking for the exact quantity is problematic. How can asking for an exact quantity be problematic, well take the example below that we expand upon, very few people drink the exact same amount of water each day, so asking participants \"How many (250ml) glasses of water do you drink per day\" and getting a response of \"3\" is typically pointless, there is likely substantial measurement error here and if they the participant drank 4 glasses yesterday (anomaly or otherwise) is the response not just outright incorrect?\n\nThe below is nothing ground breaking. We went in search of a concise, succinct, and accurate way to display (specifically) pre-post likert response data, and this is where we are currently at.\n\n# The data\n\n## Definitions\n\nFirstly, some definitions. There are two main types of likert data. We are going to refer to them as Ordinal and Bidirectional. \n\n**Ordinal likert data** *(sometimes called unipolar likert data, or possibly interval likert data)* is category responses that have some natural order (decreasing/increasing) to them, the width of categories and the distance between categories are not always consistent, and they often represent a underlying continuous scale that has been 'binned' into categories.\n\nAn example. *\"How many glasses of water do you typically drink per day?* with response options:\n\n- Less than one glass/day\n- 1-2 glasses/day\n- 3-4 glasses/day\n- 5-6 glasses/day\n- More than 6 glasses/day\n\n**Birectional likert data** *(sometimes called bipolar likert data)* is category responses that have a natural order that goes in two opposing directions - typically negative responses and positive responses - around a central (or neutral) point.\n\nAn example. *\"The amount of reading I do influences how much reading my child does?* with response options:\n\n- Strongly disagree\n- Disagree\n- Neither agree nor disagree (the neutral midpoint)\n- Agree\n- Strongly agree\n\n# Ordinal\n\n## Demo data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(simstudy)\nlibrary(ggsankey); library(ggalluvial)\nlibrary(likert); library(patchwork)\nlibrary(gt); library(gtsummary)\nlibrary(flextable)\nlibrary(thekidsbiostats) # install with remotes::install_github(\"The-Kids-Biostats/thekidsbiostats\")\n```\n:::\n\n\n\nWe're going to use one of our favourite packages to create some sythentic data to use.\n\nWe have some `pre` and `post` response data, a `group` identified (intervention or control), and then some labelled response columns.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# dat_i is the intervention group\nn <- 183 # Set the number of individuals\ndef <- defData(varname = \"pre\", formula = \"1;5\", dist = \"uniformInt\") # Pre values: uniformly distributed between 1 and 5\ndat_i <- genData(n, def)\ngroup_probs <- c(0.45, 0.45, 0.10)\nset.seed(123) # For reproducibility\ndat_i$grp <- sample(1:3, n, replace = TRUE, prob = group_probs)\ndat_i$post <- dat_i$pre\n\ndat_i$post[dat_i$grp == 2] <- pmin(dat_i$pre[dat_i$grp == 2] + (rbinom(sum(dat_i$grp == 2), 2, 0.2) + 1), 5) # Increase by 1, max 5\ndat_i$post[dat_i$grp == 3] <- pmax(dat_i$pre[dat_i$grp == 3] - (rbinom(sum(dat_i$grp == 3), 2, 0.2) + 1), 1) # Decrease by 1, min 1\n# dat_c is the control group\nn <- 154 # Set the number of individuals\ndef <- defData(varname = \"pre\", formula = \"1;5\", dist = \"uniformInt\") # Pre values: uniformly distributed between 1 and 5\ndat_c <- genData(n, def)\ngroup_probs <- c(0.55, 0.25, 0.20)\nset.seed(123) # For reproducibility\ndat_c$grp <- sample(1:3, n, replace = TRUE, prob = group_probs)\ndat_c$post <- dat_c$pre\n\ndat_c$post[dat_c$grp == 2] <- pmin(dat_c$pre[dat_c$grp == 2] + (rbinom(sum(dat_c$grp == 2), 2, 0.2) + 1), 5) # Increase by 1, max 5\ndat_c$post[dat_c$grp == 3] <- pmax(dat_c$pre[dat_c$grp == 3] - (rbinom(sum(dat_c$grp == 3), 2, 0.2) + 1), 1) # Decrease by 1, min 1\n\ndat <- rbind(cbind(dat_i, group = \"Intervention\"), \n             cbind(dat_c, group = \"Control\")) %>% \n  mutate(post = as.integer(post)) %>% \n  select(-grp)\n\ndat <- dat %>% \n  mutate(pre_l = fct_case_when(pre == 1 ~ \"Less than one cup/day\",\n                               pre == 2 ~ \"About 1-2 cups/day\",\n                               pre == 3 ~ \"About 3-4 cups/day\",\n                               pre == 4 ~ \"About 5-6 cups/day\",\n                               pre == 5 ~ \"More than 6 cups/day\"),\n         post_l = fct_case_when(post == 1 ~ \"Less than one cup/day\",\n                                post == 2 ~ \"About 1-2 cups/day\",\n                                post == 3 ~ \"About 3-4 cups/day\",\n                                post == 4 ~ \"About 5-6 cups/day\",\n                                post == 5 ~ \"More than 6 cups/day\"))\n\nhead(dat, 5) %>%\n  thekids_table(colour = \"Saffron\", padding = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-cecd849c{table-layout:auto;}.cl-ceca8436{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-ceca8440{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-cecbbae0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-cecbbaea{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-cecbc83c{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc83d{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc83e{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc846{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc847{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc850{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc851{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc852{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc85a{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc85b{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc85c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc85d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc864{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc865{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc866{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc86e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc86f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc870{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc871{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc878{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc879{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc87a{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc87b{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc882{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cecbc883{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-cecd849c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-cecbc83c\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8436\">id</span></p></th><th class=\"cl-cecbc83d\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8436\">pre</span></p></th><th class=\"cl-cecbc83e\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8436\">post</span></p></th><th class=\"cl-cecbc846\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8436\">group</span></p></th><th class=\"cl-cecbc847\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8436\">pre_l</span></p></th><th class=\"cl-cecbc847\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8436\">post_l</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-cecbc850\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">1</span></p></td><td class=\"cl-cecbc851\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">4</span></p></td><td class=\"cl-cecbc852\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">5</span></p></td><td class=\"cl-cecbc85a\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">Intervention</span></p></td><td class=\"cl-cecbc85b\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 5-6 cups/day</span></p></td><td class=\"cl-cecbc85b\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">More than 6 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-cecbc85c\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">2</span></p></td><td class=\"cl-cecbc85d\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">5</span></p></td><td class=\"cl-cecbc864\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">5</span></p></td><td class=\"cl-cecbc865\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">Intervention</span></p></td><td class=\"cl-cecbc866\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">More than 6 cups/day</span></p></td><td class=\"cl-cecbc866\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">More than 6 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-cecbc850\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">3</span></p></td><td class=\"cl-cecbc851\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">2</span></p></td><td class=\"cl-cecbc852\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">3</span></p></td><td class=\"cl-cecbc85a\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">Intervention</span></p></td><td class=\"cl-cecbc85b\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 1-2 cups/day</span></p></td><td class=\"cl-cecbc85b\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 3-4 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-cecbc86e\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">4</span></p></td><td class=\"cl-cecbc86f\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">3</span></p></td><td class=\"cl-cecbc870\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">3</span></p></td><td class=\"cl-cecbc871\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">Intervention</span></p></td><td class=\"cl-cecbc878\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 3-4 cups/day</span></p></td><td class=\"cl-cecbc878\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 3-4 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-cecbc879\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">5</span></p></td><td class=\"cl-cecbc87a\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">3</span></p></td><td class=\"cl-cecbc87b\"><p class=\"cl-cecbbae0\"><span class=\"cl-ceca8440\">2</span></p></td><td class=\"cl-cecbc882\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">Intervention</span></p></td><td class=\"cl-cecbc883\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 3-4 cups/day</span></p></td><td class=\"cl-cecbc883\"><p class=\"cl-cecbbaea\"><span class=\"cl-ceca8440\">About 1-2 cups/day</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n## Visualisation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax_prop <- dat %>%\n  select(id, group, pre, post) %>% \n  pivot_longer(cols = c(pre, post)) %>% \n  group_by(group, name) %>%\n  count(value) %>%\n  mutate(freq = n / sum(n)) %>% \n  .$freq %>%\n  max\n\nmax_prop <- plyr::round_any(max_prop, 0.05, f = ceiling)\n\np1 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  group_by(pre) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(pre), y = freq)) +\n  geom_bar(aes(fill = as.factor(pre)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Pre\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n\n\np2 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  rename(Pre = pre,\n         Post = post) %>% \n  make_long(Pre, Post) %>% \n  mutate(node = factor(node, levels = c(7,6,5,4,3,2,1)),\n         next_node = factor(next_node, levels = c(7,6,5,4,3,2,1))) %>% \n  ggplot(aes(x = x, \n             next_x = next_x, \n             node = node, \n             next_node = next_node,\n             fill = factor(node))) +\n  geom_sankey(alpha = 0.7,\n              node.color = 'black') +\n  geom_sankey_label(aes(label = node), alpha = 0.75,\n                    size = 3, color = \"black\", fill = \"gray80\") +\n  scale_x_discrete(expand = c(0.05,0.05)) +\n  theme_institute(base_size = 14) +\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks=element_blank(),\n        legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5)) +\n  guides(fill = guide_legend(reverse = T, nrow = 1)) +\n  labs(title = \"Pre-post\",\n       fill = \"Response\",\n       x = \"\")\n\np3 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  group_by(post) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(post), y = freq)) +\n  geom_bar(aes(fill = as.factor(post)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.background = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Post\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n```\n:::\n\n\n\nWe create the plot as three panels, then use `patchwork` to control the joining together of the panels into one image.\n\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\np1 + p2 + p3 + theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](likert_visualisations_files/figure-html/unnamed-chunk-3-1.png)\n:::\n:::\n\n\n\nI know what you're thinking, i) that looks great, ii) slow down, you had two groups. Correct on both accounts. This is just the intervention group data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1 <- dat %>% \n  filter(group == \"Control\") %>% \n  group_by(pre) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(pre), y = freq)) +\n  geom_bar(aes(fill = as.factor(pre)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Pre\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n\n\nq2 <- dat %>% \n  filter(group == \"Control\") %>% \n  rename(Pre = pre,\n         Post = post) %>% \n  make_long(Pre, Post) %>% \n  mutate(node = factor(node, levels = c(7,6,5,4,3,2,1)),\n         next_node = factor(next_node, levels = c(7,6,5,4,3,2,1))) %>% \n  ggplot(aes(x = x, \n             next_x = next_x, \n             node = node, \n             next_node = next_node,\n             fill = factor(node))) +\n  geom_sankey(alpha = 0.7,\n              node.color = 'black') +\n  geom_sankey_label(aes(label = node), alpha = 0.75,\n                    size = 3, color = \"black\", fill = \"gray80\") +\n  scale_x_discrete(expand = c(0.05,0.05)) +\n  theme_institute(base_size = 14) +\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks=element_blank(),\n        legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5)) +\n  guides(fill = guide_legend(reverse = T, nrow = 1)) +\n  labs(title = \"Pre-post\",\n       fill = \"Response\",\n       x = \"\")\n\nq3 <- dat %>% \n  filter(group == \"Control\") %>% \n  group_by(post) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(post), y = freq)) +\n  geom_bar(aes(fill = as.factor(post)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.background = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Post\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n```\n:::\n\n\n\nWe can double up the plot, again using `patchwork` to show both groups.\n\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\npatchwork <- (p1 + p2 + p3) / (q1 + q2 + q3)\n\npatchwork + \n  plot_annotation(tag_levels = list(c('Intervention', '', '', \n                                      'Control', '', ''))) &\n  theme(plot.tag.position = c(0, 1),\n        plot.tag = element_text(face = \"bold\", hjust = 0, vjust = 0))\n```\n\n::: {.cell-output-display}\n![](likert_visualisations_files/figure-html/unnamed-chunk-5-1.png)\n:::\n:::\n\n\n\nAnd, we might also like to table some of the 'change' data behind this plot, using our favourite package *(to battle with)* `gtsummary`.\n\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ndat %>% \n  mutate(Change = fct_case_when(post < pre ~ \"Decrease\",\n                                pre == post ~ \"No change\",\n                                post > pre ~ \"Increase\")) %>% \n  select(group, pre_l, Change) %>% \n  tbl_strata(\n    strata = group,\n    ~.x %>%\n      tbl_summary(\n        by = pre_l) %>%\n      modify_header(all_stat_cols() ~ \"**{level}**\"),\n    .combine_with = \"tbl_stack\"\n  ) %>% \n  thekids_table(colour = \"Saffron\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-d04e5a4e{table-layout:auto;}.cl-d04b3706{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-d04b3710{font-family:'Barlow';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-d04b3711{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-d04b371a{font-family:'Barlow';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-d04b371b{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d04c8354{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d04c835e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d04c835f{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d04c8360{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d04c8368{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:15pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d04c90ba{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90bb{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90c4{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90c5{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90c6{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90c7{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90ce{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90cf{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90d0{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90d8{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90d9{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90da{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90e2{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90e3{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90e4{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90ec{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90ed{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90ee{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90ef{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90f6{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90f7{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c90f8{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9100{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9101{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9102{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9103{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c910a{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c910b{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c910c{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9114{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9115{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9116{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c911e{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c911f{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9120{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9128{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9129{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c912a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c912b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9132{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9133{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04c9134{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d04e5a4e'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d04c90ba\"><p class=\"cl-d04c8354\"><span class=\"cl-d04b3706\">Group</span></p></th><th class=\"cl-d04c90bb\"><p class=\"cl-d04c8354\"><span class=\"cl-d04b3706\">Characteristic</span></p></th><th class=\"cl-d04c90c4\"><p class=\"cl-d04c835e\"><span class=\"cl-d04b3706\">Less than one cup/day</span><span class=\"cl-d04b3710\">1</span></p></th><th class=\"cl-d04c90c5\"><p class=\"cl-d04c835e\"><span class=\"cl-d04b3706\">About 1-2 cups/day</span><span class=\"cl-d04b3710\">1</span></p></th><th class=\"cl-d04c90c6\"><p class=\"cl-d04c835e\"><span class=\"cl-d04b3706\">About 3-4 cups/day</span><span class=\"cl-d04b3710\">1</span></p></th><th class=\"cl-d04c90c7\"><p class=\"cl-d04c835e\"><span class=\"cl-d04b3706\">About 5-6 cups/day</span><span class=\"cl-d04b3710\">1</span></p></th><th class=\"cl-d04c90ce\"><p class=\"cl-d04c835e\"><span class=\"cl-d04b3706\">More than 6 cups/day</span><span class=\"cl-d04b3710\">1</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90cf\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\">Control</span></p></td><td class=\"cl-d04c90d0\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\">Change</span></p></td><td class=\"cl-d04c90d8\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90d9\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90da\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90e2\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90e3\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90e4\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90ec\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">Decrease</span></p></td><td class=\"cl-d04c90ed\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">0 (0%)</span></p></td><td class=\"cl-d04c90ee\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">10 (26%)</span></p></td><td class=\"cl-d04c90ef\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">2 (8.3%)</span></p></td><td class=\"cl-d04c90f6\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">6 (21%)</span></p></td><td class=\"cl-d04c90f7\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">3 (10%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90f8\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c9100\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">No change</span></p></td><td class=\"cl-d04c9101\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">24 (73%)</span></p></td><td class=\"cl-d04c9102\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">24 (62%)</span></p></td><td class=\"cl-d04c9103\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">13 (54%)</span></p></td><td class=\"cl-d04c910a\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">17 (61%)</span></p></td><td class=\"cl-d04c910b\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">27 (90%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90e4\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90ec\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">Increase</span></p></td><td class=\"cl-d04c90ed\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">9 (27%)</span></p></td><td class=\"cl-d04c90ee\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">5 (13%)</span></p></td><td class=\"cl-d04c90ef\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">9 (38%)</span></p></td><td class=\"cl-d04c90f6\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">5 (18%)</span></p></td><td class=\"cl-d04c90f7\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">0 (0%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90cf\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\">Intervention</span></p></td><td class=\"cl-d04c90d0\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\">Change</span></p></td><td class=\"cl-d04c90d8\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90d9\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90da\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90e2\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90e3\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90e4\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c90ec\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">Decrease</span></p></td><td class=\"cl-d04c90ed\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">0 (0%)</span></p></td><td class=\"cl-d04c90ee\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">1 (2.5%)</span></p></td><td class=\"cl-d04c90ef\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">3 (8.8%)</span></p></td><td class=\"cl-d04c90f6\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">3 (8.8%)</span></p></td><td class=\"cl-d04c90f7\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">4 (13%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c90f8\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c9100\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">No change</span></p></td><td class=\"cl-d04c9101\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">25 (57%)</span></p></td><td class=\"cl-d04c9102\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">22 (55%)</span></p></td><td class=\"cl-d04c9103\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">17 (50%)</span></p></td><td class=\"cl-d04c910a\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">11 (32%)</span></p></td><td class=\"cl-d04c910b\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">27 (87%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d04c910c\"><p class=\"cl-d04c835f\"><span class=\"cl-d04b3711\"></span></p></td><td class=\"cl-d04c9114\"><p class=\"cl-d04c8368\"><span class=\"cl-d04b3711\">Increase</span></p></td><td class=\"cl-d04c9115\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">19 (43%)</span></p></td><td class=\"cl-d04c9116\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">17 (43%)</span></p></td><td class=\"cl-d04c911e\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">14 (41%)</span></p></td><td class=\"cl-d04c911f\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">20 (59%)</span></p></td><td class=\"cl-d04c9120\"><p class=\"cl-d04c8360\"><span class=\"cl-d04b3711\">0 (0%)</span></p></td></tr></tbody><tfoot><tr style=\"overflow-wrap:break-word;\"><td  colspan=\"7\"class=\"cl-d04c9128\"><p class=\"cl-d04c8354\"><span class=\"cl-d04b371a\">1</span><span class=\"cl-d04b371b\">n (%)</span></p></td></tr></tfoot></table></div>\n```\n\n:::\n:::\n\n\n\nOr perhaps just this will suffice:\n\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ntbl_merge(tbls = list(dat %>% \n                        mutate(\"Change in water intake\" = fct_case_when(post < pre ~ \"Decrease\",\n                                                                        pre == post ~ \"No change\",\n                                                                        post > pre ~ \"Increase\")) %>% \n                        filter(group == \"Control\") %>% \n                        select(\"Change in water intake\") %>% \n                        tbl_summary(), \n                      dat %>% \n                        mutate(\"Change in water intake\" = fct_case_when(post < pre ~ \"Decrease\",\n                                                                        pre == post ~ \"No change\",\n                                                                        post > pre ~ \"Increase\")) %>% \n                        filter(group == \"Intervention\") %>% \n                        select(\"Change in water intake\") %>% \n                        tbl_summary()),\n          tab_spanner = c(\"**Control**\", \"**Intervention**\")) %>% \n  thekids_table(colour = \"Saffron\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-d0a100b4{table-layout:auto;}.cl-d09e1002{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-d09e100c{font-family:'Barlow';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-d09e100d{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-d09e100e{font-family:'Barlow';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-d09e1016{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d09f21a4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d09f21a5{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d09f21ae{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d09f21af{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d09f21b0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:15pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-d09f2d34{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d35{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d36{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d37{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d3e{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d3f{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d48{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d49{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d4a{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d4b{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d52{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d53{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d54{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d55{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d5c{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d5d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d5e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d09f2d66{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d0a100b4'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d09f2d34\"><p class=\"cl-d09f21a4\"><span class=\"cl-d09e1002\"> </span></p></th><th class=\"cl-d09f2d35\"><p class=\"cl-d09f21a5\"><span class=\"cl-d09e1002\">Control</span></p></th><th class=\"cl-d09f2d36\"><p class=\"cl-d09f21a5\"><span class=\"cl-d09e1002\">Intervention</span></p></th></tr><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d09f2d34\"><p class=\"cl-d09f21a4\"><span class=\"cl-d09e1002\">Characteristic</span></p></th><th class=\"cl-d09f2d35\"><p class=\"cl-d09f21a5\"><span class=\"cl-d09e1002\">N = 154</span><span class=\"cl-d09e100c\">1</span></p></th><th class=\"cl-d09f2d36\"><p class=\"cl-d09f21a5\"><span class=\"cl-d09e1002\">N = 183</span><span class=\"cl-d09e100c\">1</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d09f2d37\"><p class=\"cl-d09f21ae\"><span class=\"cl-d09e100d\">Change in water intake</span></p></td><td class=\"cl-d09f2d3e\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\"></span></p></td><td class=\"cl-d09f2d3f\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d09f2d48\"><p class=\"cl-d09f21b0\"><span class=\"cl-d09e100d\">Decrease</span></p></td><td class=\"cl-d09f2d49\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">21 (14%)</span></p></td><td class=\"cl-d09f2d4a\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">11 (6.0%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d09f2d4b\"><p class=\"cl-d09f21b0\"><span class=\"cl-d09e100d\">No change</span></p></td><td class=\"cl-d09f2d52\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">105 (68%)</span></p></td><td class=\"cl-d09f2d53\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">102 (56%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d09f2d54\"><p class=\"cl-d09f21b0\"><span class=\"cl-d09e100d\">Increase</span></p></td><td class=\"cl-d09f2d55\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">28 (18%)</span></p></td><td class=\"cl-d09f2d5c\"><p class=\"cl-d09f21af\"><span class=\"cl-d09e100d\">70 (38%)</span></p></td></tr></tbody><tfoot><tr style=\"overflow-wrap:break-word;\"><td  colspan=\"3\"class=\"cl-d09f2d5d\"><p class=\"cl-d09f21a4\"><span class=\"cl-d09e100e\">1</span><span class=\"cl-d09e1016\">n (%)</span></p></td></tr></tfoot></table></div>\n```\n\n:::\n:::\n\n\n\n## Comments\n\nThe above isn't perfect, one could argue that there is no need to duplicate the figure headings and the legend could be handled better. Is a figure ever perfect? \n\nThis figure does show all the raw data (counts and percentages), clearly delineates the pre and post data, gives some idea of the flow of data between levels, and highlights that in the post period, the intervention group comprised a higher proportion of level 5 responses. Combined with the table that shows the actual proportional movements from each pre (baseline) group - and we're getting somewhere.\n\n# Bidirectional\n\n## Demo data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set some simulation parameters\nset.seed(123)  # For reproducibility\n \n# Parameters\nq   <- 10         # Number of Likert-scale questions\nn_i <- 165        # Number of intervention respondents\nn_c <- 123        # Number of control respondents\nn   <- n_i + n_c  # Total number of participants\n \n# Define Likert scale labels\nlikert_labels <- c(\"Strongly disagree\", \"Disagree\", \"Neutral\", \"Agree\", \"Strongly agree\")\n \n# Simulate pre-survey responses (randomly sampled from the Likert scale 1-5)\npre <- matrix(sample(1:5, n * q, replace = TRUE), \n              nrow = n, ncol = q)\n \n# Function to simulate post-survey responses with both improvement and decline possibilities\nsimulate_post <- function(pre_response) {\n  # Define possible changes with corresponding probabilities\n  possible_changes <- c(-3, -2, -1, 0, 1, 2, 3)\n  probabilities <- c(0.05, 0.1, 0.15, 0.4, 0.15, 0.1, 0.05)  # \"No change\" is most likely\n  post_response <- pre_response + sample(possible_changes, \n                                         1, \n                                         prob = probabilities)\n  # Ensure post_response remains within the bounds of the Likert scale (1 to 5)\n  post_response <- max(1, min(5, post_response))\n  return(post_response)\n}\n \n# Simulate post-survey responses\npost <- apply(pre, 2, function(x) sapply(x, simulate_post))\n \n# Convert numeric values to factors with labels\npre <- apply(pre, 2, factor, levels = 1:5, labels = likert_labels)\npost <- apply(post, 2, factor, levels = 1:5, labels = likert_labels)\n \n# Combine the pre and post data\ndat_likert <- data.frame(id = 1:n,\n                         mode = c(rep(\"Intervention\", n_i), rep(\"Control\", n_c)),\n                         pre,\n                         post)\n \n# Rename the columns to reflect pre and post data\ncolnames(dat_likert)[3:(2 + q)] <- paste0(\"Q\", 1:q, \"_pre\")\ncolnames(dat_likert)[(3 + q):(2 + 2 * q)] <- paste0(\"Q\", 1:q, \"_post\")\n \ndat_likert <- dat_likert %>%\n  as_tibble() %>%\n  mutate(across(contains(\"Q\"), ~factor(., likert_labels)))\n \nrm(n, n_i, n_c, q, likert_labels, pre, post)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_likert <- dat_likert %>% \n  mutate(mode = case_when(mode == \"Control\" ~ \"Control\",\n                          T ~ mode))\nhead(dat_likert[, c(1, 2, 3, 13, 4, 14)], 5) %>% \n  thekids_table(colour = \"Saffron\", padding = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-d0af6c4e{table-layout:auto;}.cl-d0acf22a{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-d0acf234{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-d0aded38{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d0aded39{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d0adf846{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf847{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf850{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf851{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf852{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf853{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf85a{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf85b{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf85c{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf864{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf865{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf86e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf86f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf870{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf871{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf878{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf879{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf87a{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf882{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf883{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf884{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf88c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf88d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf88e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf88f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf896{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf897{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf898{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf899{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0adf8a0{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d0af6c4e'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d0adf846\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf22a\">id</span></p></th><th class=\"cl-d0adf847\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf22a\">mode</span></p></th><th class=\"cl-d0adf850\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf22a\">Q1_pre</span></p></th><th class=\"cl-d0adf851\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf22a\">Q1_post</span></p></th><th class=\"cl-d0adf852\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf22a\">Q2_pre</span></p></th><th class=\"cl-d0adf852\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf22a\">Q2_post</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d0adf853\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf234\">1</span></p></td><td class=\"cl-d0adf85a\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Intervention</span></p></td><td class=\"cl-d0adf85b\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Neutral</span></p></td><td class=\"cl-d0adf85c\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly agree</span></p></td><td class=\"cl-d0adf864\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf864\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly disagree</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d0adf865\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf234\">2</span></p></td><td class=\"cl-d0adf86e\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Intervention</span></p></td><td class=\"cl-d0adf86f\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Neutral</span></p></td><td class=\"cl-d0adf870\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly agree</span></p></td><td class=\"cl-d0adf871\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly disagree</span></p></td><td class=\"cl-d0adf871\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly disagree</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d0adf878\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf234\">3</span></p></td><td class=\"cl-d0adf879\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Intervention</span></p></td><td class=\"cl-d0adf87a\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf882\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Agree</span></p></td><td class=\"cl-d0adf883\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf883\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Strongly agree</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d0adf884\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf234\">4</span></p></td><td class=\"cl-d0adf88c\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Intervention</span></p></td><td class=\"cl-d0adf88d\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf88e\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf88f\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Neutral</span></p></td><td class=\"cl-d0adf88f\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Agree</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d0adf896\"><p class=\"cl-d0aded38\"><span class=\"cl-d0acf234\">5</span></p></td><td class=\"cl-d0adf897\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Intervention</span></p></td><td class=\"cl-d0adf898\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Neutral</span></p></td><td class=\"cl-d0adf899\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Neutral</span></p></td><td class=\"cl-d0adf8a0\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td><td class=\"cl-d0adf8a0\"><p class=\"cl-d0aded39\"><span class=\"cl-d0acf234\">Disagree</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n## Visualisation\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlikert_plot <- function(data, \n                        variables,\n                        grouping = NULL,\n                        centered = FALSE,\n                        plot.percent.low = FALSE, \n                        plot.percent.high = FALSE, \n                        plot.percent.neutral = FALSE,\n                        legend.position = \"right\",\n                        plot.percents= TRUE,\n                        legend_title = \"Response\",\n                        legend_reverse = FALSE,\n                        str_width = 40,\n                        facet_ncol = 1){\n  dat_plot <- data %>%\n    as.data.frame()  \n  \n  likert_object <- likert(dat_plot %>% \n                            select(!!variables),grouping = dat_plot[[grouping]])\n  \n  likert.bar.plot(likert_object,\n                  centered = centered,\n                  plot.percent.low = plot.percent.low, \n                  plot.percent.high = plot.percent.high, \n                  plot.percent.neutral = plot.percent.neutral, \n                  legend.position = legend.position, \n                  plot.percents = plot.percents) +\n    guides(fill = guide_legend(title = \"Response\",\n                               reverse = TRUE\n                               )) +\n    geom_hline(yintercept = 50, linetype = \"dashed\", colour = \"red\") +\n    theme_institute(base_size = 16) +\n    scale_fill_manual(values = rev(c(\"#f56b00\", \"#fab580\", \"#eeefef\",\"#a5ccef\", \"#4a99de\")))\n}\n```\n:::\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ndat_likert[, c(1, 2, 3, 13, 4, 14)] %>% # CHECK CHECK CHECK\n    pivot_longer(cols = contains(\"Q\"), \n                 names_to = c(\"question\", \"time\"), \n                 names_sep = \"_\", \n                 values_to = \"value\") %>%\n  mutate(time = case_when(time == \"pre\" ~ \"Pre\",\n                          T ~ \"Post\")) %>% \n    pivot_wider(id_cols = c(id, mode, time), \n                names_from = question, \n                values_from = value) %>%\n    mutate(across(contains(\"Q\"), ~forcats::fct_rev(.))) %>%\n    likert_plot(data = .,\n                variables = paste0(\"Q\", 1),\n                grouping = \"time\") +\n    labs(title = \"f\") +\n    theme(plot.title = element_text(family = \"Barlow\",\n                                    size = 18))\n```\n\n::: {.cell-output-display}\n![](likert_visualisations_files/figure-html/unnamed-chunk-11-1.png)\n:::\n\n```{.r .cell-code}\n# CALCULATE THE MIDPOINTS AND PLOT LABEL - NOT WORKING\n# \n# dat_l_labs <- dat_likert[, c(1, 2, 3, 13)] %>%\n#   pivot_longer(cols = contains(\"Q\"), \n#                names_to = c(\"question\", \"time\"), \n#                names_sep = \"_\", \n#                values_to = \"value\") %>% \n#   group_by(mode, question, time) %>%\n#   count(value) %>%\n#   mutate(freq = n / sum(n),\n#          per = paste0(round(freq * 100, 1), \"%\"),\n#          cum_freq = cumsum(freq),                  # Cumulative sum of frequencies\n#          midpoint = cum_freq - (freq / 2)) \n#\n# geom_text(data = dat_l_labs, \n#            aes(y = midpoint, label = per, group = value)) \n```\n:::\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ndat_likert %>%\n  select(id, mode, Q1_pre, Q1_post) %>%\n  mutate(across(contains(\"Q\"), ~case_when(. == \"Strongly disagree\" ~ 1,\n                                          . == \"Disagree\" ~ 2,\n                                          . == \"Neutral\" ~ 3,\n                                          . == \"Agree\" ~ 4,\n                                          . == \"Strongly agree\" ~ 5))) %>%\n  mutate(across(ends_with(\"_pre\"), \n                .names = \"{.col}_change\",\n                .fns = ~biometrics::fct_case_when(\n                  get(sub(\"_pre\", \"_post\", cur_column())) < . ~ \"Decreased\",\n                  get(sub(\"_pre\", \"_post\", cur_column())) == . ~ \"No change\",\n                  get(sub(\"_pre\", \"_post\", cur_column())) > . ~ \"Increased\"\n                ))) %>%\n  select(id, mode, contains(\"_change\")) %>%\n  left_join(dat_likert %>% select(id, mode, Q1_pre), by = c(\"id\", \"mode\")) %>%\n  select(-id) %>%\n  \n  tbl_strata(strata = mode, \n             .tbl_fun = ~.x %>% \n               tbl_summary(by = Q1_pre,\n                           label = list(Q1_pre_change ~ \"Change\")) %>%\n               modify_header(all_stat_cols() ~ \"**{level}**\"),,\n             .combine_with = \"tbl_stack\") %>%\n  thekids_table(colour = \"Saffron\", padding = 3) \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-d12e2c82{table-layout:auto;}.cl-d12b6b1e{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-d12b6b28{font-family:'Barlow';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-d12b6b29{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-d12b6b2a{font-family:'Barlow';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-d12b6b32{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d12c831e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c831f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c8328{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c8329{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c832a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:15pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c8332{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-d12c9020{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c902a{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c902b{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c902c{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c902d{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9034{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9035{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9036{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9037{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c903e{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c903f{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9048{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9049{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c904a{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c904b{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9052{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9053{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c905c{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c905d{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c905e{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c905f{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9066{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9067{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9070{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9071{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9072{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9073{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c907a{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c907b{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c907c{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9084{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9085{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9086{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c908e{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c908f{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9090{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9091{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9098{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c9099{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c909a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c909b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d12c90a2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d12e2c82'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-d12c9020\"><p class=\"cl-d12c831e\"><span class=\"cl-d12b6b1e\">Group</span></p></th><th class=\"cl-d12c902a\"><p class=\"cl-d12c831e\"><span class=\"cl-d12b6b1e\">Characteristic</span></p></th><th class=\"cl-d12c902b\"><p class=\"cl-d12c831f\"><span class=\"cl-d12b6b1e\">Strongly disagree</span><span class=\"cl-d12b6b28\">1</span></p></th><th class=\"cl-d12c902c\"><p class=\"cl-d12c831f\"><span class=\"cl-d12b6b1e\">Disagree</span><span class=\"cl-d12b6b28\">1</span></p></th><th class=\"cl-d12c902d\"><p class=\"cl-d12c831f\"><span class=\"cl-d12b6b1e\">Neutral</span><span class=\"cl-d12b6b28\">1</span></p></th><th class=\"cl-d12c9034\"><p class=\"cl-d12c831f\"><span class=\"cl-d12b6b1e\">Agree</span><span class=\"cl-d12b6b28\">1</span></p></th><th class=\"cl-d12c9035\"><p class=\"cl-d12c831f\"><span class=\"cl-d12b6b1e\">Strongly agree</span><span class=\"cl-d12b6b28\">1</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c9036\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\">Control</span></p></td><td class=\"cl-d12c9037\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\">Change</span></p></td><td class=\"cl-d12c903e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c903f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9048\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9049\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c904a\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c904b\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9052\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">Decreased</span></p></td><td class=\"cl-d12c9053\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">0 (0%)</span></p></td><td class=\"cl-d12c905c\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">1 (3.6%)</span></p></td><td class=\"cl-d12c905d\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">3 (19%)</span></p></td><td class=\"cl-d12c905e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">5 (28%)</span></p></td><td class=\"cl-d12c905f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">6 (20%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c9066\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9067\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">No change</span></p></td><td class=\"cl-d12c9070\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">21 (68%)</span></p></td><td class=\"cl-d12c9071\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">18 (64%)</span></p></td><td class=\"cl-d12c9072\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">8 (50%)</span></p></td><td class=\"cl-d12c9073\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">7 (39%)</span></p></td><td class=\"cl-d12c907a\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">24 (80%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c904b\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9052\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">Increased</span></p></td><td class=\"cl-d12c9053\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">10 (32%)</span></p></td><td class=\"cl-d12c905c\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">9 (32%)</span></p></td><td class=\"cl-d12c905d\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">5 (31%)</span></p></td><td class=\"cl-d12c905e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">6 (33%)</span></p></td><td class=\"cl-d12c905f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">0 (0%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c9036\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\">Intervention</span></p></td><td class=\"cl-d12c9037\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\">Change</span></p></td><td class=\"cl-d12c903e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c903f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9048\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9049\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c904a\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c904b\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9052\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">Decreased</span></p></td><td class=\"cl-d12c9053\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">0 (0%)</span></p></td><td class=\"cl-d12c905c\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">7 (22%)</span></p></td><td class=\"cl-d12c905d\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">14 (41%)</span></p></td><td class=\"cl-d12c905e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">8 (28%)</span></p></td><td class=\"cl-d12c905f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">19 (53%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c9066\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c9067\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">No change</span></p></td><td class=\"cl-d12c9070\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">23 (68%)</span></p></td><td class=\"cl-d12c9071\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">12 (38%)</span></p></td><td class=\"cl-d12c9072\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">12 (35%)</span></p></td><td class=\"cl-d12c9073\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">9 (31%)</span></p></td><td class=\"cl-d12c907a\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">17 (47%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-d12c907b\"><p class=\"cl-d12c8328\"><span class=\"cl-d12b6b29\"></span></p></td><td class=\"cl-d12c907c\"><p class=\"cl-d12c832a\"><span class=\"cl-d12b6b29\">Increased</span></p></td><td class=\"cl-d12c9084\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">11 (32%)</span></p></td><td class=\"cl-d12c9085\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">13 (41%)</span></p></td><td class=\"cl-d12c9086\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">8 (24%)</span></p></td><td class=\"cl-d12c908e\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">12 (41%)</span></p></td><td class=\"cl-d12c908f\"><p class=\"cl-d12c8329\"><span class=\"cl-d12b6b29\">0 (0%)</span></p></td></tr></tbody><tfoot><tr style=\"overflow-wrap:break-word;\"><td  colspan=\"7\"class=\"cl-d12c9090\"><p class=\"cl-d12c8332\"><span class=\"cl-d12b6b2a\">1</span><span class=\"cl-d12b6b32\">n (%)</span></p></td></tr></tfoot></table></div>\n```\n\n:::\n:::\n\n\n\n\n## Comments\n\n\n# Closing comments\n\n\n# Acknowledgements\n\nThanks to Wesley Billingham for providing feedback on and reviewing this post.\n\nYou can look forward to seeing posts from these other team members here in the coming weeks and months.\n\n## Reproducibility Information\n\nTo access the .qmd (Quarto markdown) files as well as any R scripts or data that was used in this post, please visit our GitHub:\n\n<https://github.com/The-Kids-Biostats/The-Kids-Biostats.github.io/tree/main/posts/>\n\nThe session information can also be seen below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.0 (2024-04-24)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.6.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Australia/Perth\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] thekidsbiostats_0.0.1 lubridate_1.9.3       forcats_1.0.0        \n [4] stringr_1.5.1         dplyr_1.1.4           purrr_1.0.2          \n [7] readr_2.1.5           tidyr_1.3.1           tibble_3.2.1         \n[10] tidyverse_2.0.0       extrafont_0.19        flextable_0.9.6      \n[13] gtsummary_2.0.2       gt_0.11.0             patchwork_1.3.0      \n[16] likert_1.3.5          xtable_1.8-4          ggalluvial_0.12.5    \n[19] ggplot2_3.5.1         ggsankey_0.0.99999    simstudy_0.8.1       \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.2.1        psych_2.4.6.26          viridisLite_0.4.2      \n [4] farver_2.1.2            fastmap_1.2.0           fontquiver_0.2.1       \n [7] janitor_2.2.0           labelled_2.13.0         digest_0.6.37          \n[10] timechange_0.3.0        lifecycle_1.0.4         magrittr_2.0.3         \n[13] compiler_4.4.0          rlang_1.1.4             tools_4.4.0            \n[16] igraph_2.0.3            utf8_1.2.4              yaml_2.3.10            \n[19] data.table_1.16.0       knitr_1.48              labeling_0.4.3         \n[22] askpass_1.2.0           htmlwidgets_1.6.4       mnormt_2.1.1           \n[25] plyr_1.8.9              xml2_1.3.6              withr_3.0.1            \n[28] grid_4.4.0              fansi_1.0.6             gdtools_0.4.0          \n[31] colorspace_2.1-1        extrafontdb_1.0         scales_1.3.0           \n[34] cli_3.6.3               rmarkdown_2.28          ragg_1.3.3             \n[37] generics_0.1.3          rstudioapi_0.16.0       bigmemory.sri_0.1.8    \n[40] reshape2_1.4.4          tzdb_0.4.0              parallel_4.4.0         \n[43] fastglm_0.0.3           vctrs_0.6.5             jsonlite_1.8.8         \n[46] fontBitstreamVera_0.1.1 hms_1.1.3               systemfonts_1.1.0      \n[49] glue_1.7.0              bigmemory_4.6.4         stringi_1.8.4          \n[52] gtable_0.3.5            munsell_0.5.1           pillar_1.9.0           \n[55] htmltools_0.5.8.1       biometrics_1.2.4        openssl_2.2.1          \n[58] R6_2.5.1                textshaping_0.4.0       kableExtra_1.4.0       \n[61] evaluate_1.0.0          lattice_0.22-6          haven_2.5.4            \n[64] cards_0.2.2             backports_1.5.0         broom_1.0.6            \n[67] snakecase_0.11.1        fontLiberation_0.1.0    Rcpp_1.0.13            \n[70] zip_2.3.1               uuid_1.2-1              svglite_2.1.3          \n[73] gridExtra_2.3           nlme_3.1-165            Rttf2pt1_1.3.12        \n[76] officer_0.6.6           xfun_0.47               pkgconfig_2.0.3        \n```\n\n\n:::\n:::\n",
    "supporting": [
      "likert_visualisations_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}