{
  "hash": "76b720a837627406f287a82725a2505b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Visualisations for (ordinal) Likert scale data\"\nauthor: \"Dr Matt Cooper and Zac Dempsey\"\nformat:\n  html:\n    code-fold: true\n    tabset: true\n    toc: true\n    toc-location: left\ndate: \"2024-10-14\"\ncategories:\n  - R\n  - Visualisations\n  - Likert\n  - ggplot\ndraft: false\neditor_options: \n  chunk_output_type: console\nexecute:\n  echo: true\n  warning: false\n  message: false\n  error: true\nfig-align: center\nfig-format: png\nfig-dpi: 300\n---\n\n\n# Overview\n\nLikert scale variables (and hence data) are widely utilised in research—they are useful for getting participants to rate things, or to provide an average quantity as a response in situations where asking for the exact quantity may be problematic. How can asking for an exact quantity be problematic? Well, consider the example below that relates to how much water one drinks per day. Very few people drink the exact same amount of water each day, so asking participants \"How many (250ml) glasses of water do you drink per day\" and getting a response of \"3\" is typically pointless—there is likely substantial measurement error, and if they drank 3 glasses yesterday (anomaly or otherwise) but 4 glasses the day before, is the response of 3 not just outright incorrect?\n\nWhat is presented below is nothing ground breaking. We went in search of a concise, succinct, and accurate way to display (specifically) \"pre/post\" Likert data, and this is where we are currently at.\n\n# The data\n\n## Definitions\n\nFirstly, some definitions. There are two main types of Likert data. We are going to refer to them as \"ordinal\" and \"bidirectional\".\n\n**Ordinal Likert data** *(sometimes called unipolar Likert data, or interval Likert data)* involves category responses that have some natural order (decreasing/increasing) to them, the width of categories and the distance between categories are not necessarily consistent, and the categories often represent a underlying continuous scale that has been 'binned' (into the Likert categories).\n\nAn example. *\"How many glasses of water do you typically drink per day?\"* with response options:\n\n-   Less than one glass/day\n-   1-2 glasses/day\n-   3-4 glasses/day\n-   5-6 glasses/day\n-   More than six glasses/day\n\n**Birectional Likert data** *(sometimes called bipolar Likert data)* involves category responses that have a natural order with responses from two opposing directions—typically negative responses and positive responses—around a central (or neutral) point.\n\nAn example. *\"The amount of reading I do influences how much reading my child does?\"* with response options:\n\n-   Strongly disagree\n-   Disagree\n-   Neither agree nor disagree (the neutral midpoint)\n-   Agree\n-   Strongly agree\n\nWe'll return to bidirectional Likert data in a future post, for now we will look at ordinal Likert data.\n\n# Ordinal Likert data\n\n## Demo data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(simstudy)\nlibrary(ggsankey); library(ggalluvial)\nlibrary(likert); library(patchwork)\nlibrary(gt); library(gtsummary)\nlibrary(flextable)\nlibrary(thekidsbiostats) # install with remotes::install_github(\"The-Kids-Biostats/thekidsbiostats\")\n```\n:::\n\n\nWe're going to use one of our favourite packages to create some synthetic data to use.\n\nSpecifically, we will simulate some `pre` and `post` response data, a `group` identifier (intervention or control), and then some labelled response columns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123) # For reproducibility\n\n# dat_i is the intervention group\nn <- 183 # Set the number of individuals\ndef <- defData(varname = \"pre\", formula = \"1;5\", dist = \"uniformInt\") # Pre values: uniformly distributed between 1 and 5\ndat_i <- genData(n, def)\ngroup_probs <- c(0.45, 0.45, 0.10)\ndat_i$grp <- sample(1:3, n, replace = TRUE, prob = group_probs)\ndat_i$post <- dat_i$pre\n\ndat_i$post[dat_i$grp == 2] <- pmin(dat_i$pre[dat_i$grp == 2] + (rbinom(sum(dat_i$grp == 2), 2, 0.2) + 1), 5) # Increase by 1, max 5\ndat_i$post[dat_i$grp == 3] <- pmax(dat_i$pre[dat_i$grp == 3] - (rbinom(sum(dat_i$grp == 3), 2, 0.2) + 1), 1) # Decrease by 1, min 1\n\n# dat_c is the control group\nn <- 154 # Set the number of individuals\ndef <- defData(varname = \"pre\", formula = \"1;5\", dist = \"uniformInt\") # Pre values: uniformly distributed between 1 and 5\ndat_c <- genData(n, def)\ngroup_probs <- c(0.55, 0.25, 0.20)\ndat_c$grp <- sample(1:3, n, replace = TRUE, prob = group_probs)\ndat_c$post <- dat_c$pre\n\ndat_c$post[dat_c$grp == 2] <- pmin(dat_c$pre[dat_c$grp == 2] + (rbinom(sum(dat_c$grp == 2), 2, 0.2) + 1), 5) # Increase by 1, max 5\ndat_c$post[dat_c$grp == 3] <- pmax(dat_c$pre[dat_c$grp == 3] - (rbinom(sum(dat_c$grp == 3), 2, 0.2) + 1), 1) # Decrease by 1, min 1\n\n# Combine the control & intervention data into one dataframe\ndat <- rbind(cbind(dat_i, group = \"Intervention\"), \n             cbind(dat_c, group = \"Control\")) %>% \n  mutate(post = as.integer(post)) %>% \n  select(-grp)\n\n# Add some factored labels\ndat <- dat %>% \n  mutate(pre_l = fct_case_when(pre == 1 ~ \"Less than one cup/day\",\n                               pre == 2 ~ \"About 1-2 cups/day\",\n                               pre == 3 ~ \"About 3-4 cups/day\",\n                               pre == 4 ~ \"About 5-6 cups/day\",\n                               pre == 5 ~ \"More than 6 cups/day\"),\n         post_l = fct_case_when(post == 1 ~ \"Less than one cup/day\",\n                                post == 2 ~ \"About 1-2 cups/day\",\n                                post == 3 ~ \"About 3-4 cups/day\",\n                                post == 4 ~ \"About 5-6 cups/day\",\n                                post == 5 ~ \"More than 6 cups/day\"))\n\n# Visualise the first few rows of data\nhead(dat, 5) %>%\n  thekids_table(colour = \"Saffron\", padding = 3)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-46ac8fca{table-layout:auto;}.cl-46a2de6c{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-46a2de8a{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-46a63f44{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-46a63f4e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:3pt;padding-top:3pt;padding-left:3pt;padding-right:3pt;line-height: 1.5;background-color:transparent;}.cl-46a65a06{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a10{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a11{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a12{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a1a{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a1b{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a24{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a25{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a2e{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a2f{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a38{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a39{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a3a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a42{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a43{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a44{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a45{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a4c{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a4d{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a4e{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a56{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a57{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a58{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a59{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-46a65a60{background-color:rgba(248, 218, 154, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-46ac8fca'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-46a65a06\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de6c\">id</span></p></th><th class=\"cl-46a65a10\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de6c\">pre</span></p></th><th class=\"cl-46a65a11\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de6c\">post</span></p></th><th class=\"cl-46a65a12\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de6c\">group</span></p></th><th class=\"cl-46a65a1a\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de6c\">pre_l</span></p></th><th class=\"cl-46a65a1a\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de6c\">post_l</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-46a65a1b\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">1</span></p></td><td class=\"cl-46a65a24\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">2</span></p></td><td class=\"cl-46a65a25\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">3</span></p></td><td class=\"cl-46a65a2e\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">Intervention</span></p></td><td class=\"cl-46a65a2f\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 1-2 cups/day</span></p></td><td class=\"cl-46a65a2f\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 3-4 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-46a65a38\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">2</span></p></td><td class=\"cl-46a65a39\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">4</span></p></td><td class=\"cl-46a65a3a\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">4</span></p></td><td class=\"cl-46a65a42\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">Intervention</span></p></td><td class=\"cl-46a65a43\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 5-6 cups/day</span></p></td><td class=\"cl-46a65a43\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 5-6 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-46a65a44\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">3</span></p></td><td class=\"cl-46a65a45\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">3</span></p></td><td class=\"cl-46a65a4c\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">3</span></p></td><td class=\"cl-46a65a4d\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">Intervention</span></p></td><td class=\"cl-46a65a4e\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 3-4 cups/day</span></p></td><td class=\"cl-46a65a4e\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">About 3-4 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-46a65a38\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">4</span></p></td><td class=\"cl-46a65a39\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">5</span></p></td><td class=\"cl-46a65a3a\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">5</span></p></td><td class=\"cl-46a65a42\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">Intervention</span></p></td><td class=\"cl-46a65a43\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">More than 6 cups/day</span></p></td><td class=\"cl-46a65a43\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">More than 6 cups/day</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-46a65a56\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">5</span></p></td><td class=\"cl-46a65a57\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">5</span></p></td><td class=\"cl-46a65a58\"><p class=\"cl-46a63f44\"><span class=\"cl-46a2de8a\">5</span></p></td><td class=\"cl-46a65a59\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">Intervention</span></p></td><td class=\"cl-46a65a60\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">More than 6 cups/day</span></p></td><td class=\"cl-46a65a60\"><p class=\"cl-46a63f4e\"><span class=\"cl-46a2de8a\">More than 6 cups/day</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n## The visualisation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax_prop <- dat %>%\n  select(id, group, pre, post) %>% \n  pivot_longer(cols = c(pre, post)) %>% \n  group_by(group, name) %>%\n  count(value) %>%\n  mutate(freq = n / sum(n)) %>% \n  .$freq %>%\n  max\n\nmax_prop <- plyr::round_any(max_prop, 0.05, f = ceiling)\n\np1 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  group_by(pre) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(pre), y = freq)) +\n  geom_bar(aes(fill = as.factor(pre)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Pre\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n\n\np2 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  rename(Pre = pre,\n         Post = post) %>% \n  make_long(Pre, Post) %>% \n  mutate(node = factor(node, levels = c(7,6,5,4,3,2,1)),\n         next_node = factor(next_node, levels = c(7,6,5,4,3,2,1))) %>% \n  ggplot(aes(x = x, \n             next_x = next_x, \n             node = node, \n             next_node = next_node,\n             fill = factor(node))) +\n  geom_sankey(alpha = 0.7,\n              node.color = 'black') +\n  geom_sankey_label(aes(label = node), alpha = 0.75,\n                    size = 3, color = \"black\", fill = \"gray80\") +\n  scale_x_discrete(expand = c(0.05,0.05)) +\n  theme_institute(base_size = 14) +\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks=element_blank(),\n        legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5)) +\n  guides(fill = guide_legend(reverse = T, nrow = 1)) +\n  labs(title = \"Pre-post\",\n       fill = \"Response\",\n       x = \"\")\n\np3 <- dat %>% \n  filter(group == \"Intervention\") %>% \n  group_by(post) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(post), y = freq)) +\n  geom_bar(aes(fill = as.factor(post)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.background = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Post\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n```\n:::\n\n\nWe create the plot as three panels, and then use `patchwork` to control the joining together of the panels into one image.\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\np1 + p2 + p3 + theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](likert_visualisations_files/figure-html/unnamed-chunk-3-1.png)\n:::\n:::\n\n\nI know what you're thinking: i) that looks great, ii) slow down, you had two groups.\n\nCorrect on both accounts. This is just the intervention group data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1 <- dat %>% \n  filter(group == \"Control\") %>% \n  group_by(pre) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(pre), y = freq)) +\n  geom_bar(aes(fill = as.factor(pre)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Pre\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n\n\nq2 <- dat %>% \n  filter(group == \"Control\") %>% \n  rename(Pre = pre,\n         Post = post) %>% \n  make_long(Pre, Post) %>% \n  mutate(node = factor(node, levels = c(7,6,5,4,3,2,1)),\n         next_node = factor(next_node, levels = c(7,6,5,4,3,2,1))) %>% \n  ggplot(aes(x = x, \n             next_x = next_x, \n             node = node, \n             next_node = next_node,\n             fill = factor(node))) +\n  geom_sankey(alpha = 0.7,\n              node.color = 'black') +\n  geom_sankey_label(aes(label = node), alpha = 0.75,\n                    size = 3, color = \"black\", fill = \"gray80\") +\n  scale_x_discrete(expand = c(0.05,0.05)) +\n  theme_institute(base_size = 14) +\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks=element_blank(),\n        legend.position = \"bottom\",\n        plot.title = element_text(hjust = 0.5)) +\n  guides(fill = guide_legend(reverse = T, nrow = 1)) +\n  labs(title = \"Pre-post\",\n       fill = \"Response\",\n       x = \"\")\n\nq3 <- dat %>% \n  filter(group == \"Control\") %>% \n  group_by(post) %>% \n  tally() %>% \n  mutate(freq = n / sum(n),\n         res = str_c(n, \"\\n(\", round(freq*100, 1), \"%)\")) %>% \n  ggplot(aes(x = as.factor(post), y = freq)) +\n  geom_bar(aes(fill = as.factor(post)), stat=\"identity\", alpha = 0.8,\n           colour = \"black\") +\n  theme_institute(base_size = 14) +\n  theme(legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        plot.background = element_blank(),\n        plot.title = element_text(hjust = 0.5)) +\n  scale_y_continuous(labels = scales::percent_format(),\n                     breaks = seq(0, max_prop, by = 0.05),\n                     expand = expansion(mult = c(0, 0.1))) +\n  coord_cartesian(ylim = c(0, max_prop)) +\n  scale_fill_viridis_d(option = \"plasma\", end = 0.85, direction = -1) +\n  labs(title = \"Post\",\n       fill = \"Response\",\n       x = \"Response\", y = \"\") +\n  geom_text(aes(label = res), vjust = -0.1,\n            family = \"Barlow Semi Condensed\") +\n  guides(fill = guide_legend(nrow = 1))\n```\n:::\n\n\nWe can double up the plot, again using `patchwork`, to show both groups.\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\npatchwork <- (p1 + p2 + p3) / (q1 + q2 + q3)\n\npatchwork + \n  plot_annotation(tag_levels = list(c('Intervention', '', '', \n                                      'Control', '', ''))) &\n  theme(plot.tag.position = c(0, 1),\n        plot.tag = element_text(face = \"bold\", hjust = 0, vjust = 0))\n```\n\n::: {.cell-output-display}\n![](likert_visualisations_files/figure-html/unnamed-chunk-5-1.png)\n:::\n:::\n\n\nAnd, we might also like to table some of the 'change' data that this plot is based on—using our favourite package *(to battle with)* `gtsummary`.\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ndat %>% \n  mutate(Change = fct_case_when(post < pre ~ \"Decrease\",\n                                pre == post ~ \"No change\",\n                                post > pre ~ \"Increase\")) %>% \n  select(group, pre_l, Change) %>% \n  tbl_strata(\n    strata = group,\n    ~.x %>%\n      tbl_summary(\n        by = pre_l) %>%\n      modify_header(all_stat_cols() ~ \"**{level}**\"),\n    .combine_with = \"tbl_stack\"\n  ) %>% \n  thekids_table(colour = \"Saffron\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4ac8e6bc{table-layout:auto;}.cl-4abfbbf0{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-4abfbbfa{font-family:'Barlow';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-4abfbc04{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-4abfbc05{font-family:'Barlow';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-4abfbc06{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ac36bec{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4ac36bf6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4ac36c00{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4ac36c01{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4ac36c0a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:15pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4ac3a6b6{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6c0{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6c1{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6ca{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6cb{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6d4{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6d5{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6de{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6df{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6e0{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6e8{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6e9{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6ea{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6f2{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6fc{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a6fd{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a706{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a707{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a708{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a710{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a711{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a712{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a71a{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a724{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a725{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a72e{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a72f{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a738{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a742{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a743{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a744{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a745{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a74c{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a74d{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a74e{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a756{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a757{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a760{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a761{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a762{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a76a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ac3a76b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4ac8e6bc'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4ac3a6b6\"><p class=\"cl-4ac36bec\"><span class=\"cl-4abfbbf0\">Group</span></p></th><th class=\"cl-4ac3a6c0\"><p class=\"cl-4ac36bec\"><span class=\"cl-4abfbbf0\">Characteristic</span></p></th><th class=\"cl-4ac3a6c1\"><p class=\"cl-4ac36bf6\"><span class=\"cl-4abfbbf0\">Less than one cup/day</span><span class=\"cl-4abfbbfa\">1</span></p></th><th class=\"cl-4ac3a6ca\"><p class=\"cl-4ac36bf6\"><span class=\"cl-4abfbbf0\">About 1-2 cups/day</span><span class=\"cl-4abfbbfa\">1</span></p></th><th class=\"cl-4ac3a6cb\"><p class=\"cl-4ac36bf6\"><span class=\"cl-4abfbbf0\">About 3-4 cups/day</span><span class=\"cl-4abfbbfa\">1</span></p></th><th class=\"cl-4ac3a6d4\"><p class=\"cl-4ac36bf6\"><span class=\"cl-4abfbbf0\">About 5-6 cups/day</span><span class=\"cl-4abfbbfa\">1</span></p></th><th class=\"cl-4ac3a6d5\"><p class=\"cl-4ac36bf6\"><span class=\"cl-4abfbbf0\">More than 6 cups/day</span><span class=\"cl-4abfbbfa\">1</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a6de\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\">Control</span></p></td><td class=\"cl-4ac3a6df\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\">Change</span></p></td><td class=\"cl-4ac3a6e0\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6e8\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6e9\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6ea\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6f2\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a6fc\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6fd\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">Decrease</span></p></td><td class=\"cl-4ac3a706\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">0 (0%)</span></p></td><td class=\"cl-4ac3a707\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">9 (29%)</span></p></td><td class=\"cl-4ac3a708\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">5 (19%)</span></p></td><td class=\"cl-4ac3a710\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">3 (12%)</span></p></td><td class=\"cl-4ac3a711\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">8 (20%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a712\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a71a\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">No change</span></p></td><td class=\"cl-4ac3a724\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">24 (80%)</span></p></td><td class=\"cl-4ac3a725\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">15 (48%)</span></p></td><td class=\"cl-4ac3a72e\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">14 (52%)</span></p></td><td class=\"cl-4ac3a72f\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">13 (50%)</span></p></td><td class=\"cl-4ac3a738\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">32 (80%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a6fc\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6fd\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">Increase</span></p></td><td class=\"cl-4ac3a706\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">6 (20%)</span></p></td><td class=\"cl-4ac3a707\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">7 (23%)</span></p></td><td class=\"cl-4ac3a708\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">8 (30%)</span></p></td><td class=\"cl-4ac3a710\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">10 (38%)</span></p></td><td class=\"cl-4ac3a711\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">0 (0%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a6de\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\">Intervention</span></p></td><td class=\"cl-4ac3a6df\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\">Change</span></p></td><td class=\"cl-4ac3a6e0\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6e8\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6e9\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6ea\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6f2\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a6fc\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a6fd\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">Decrease</span></p></td><td class=\"cl-4ac3a706\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">0 (0%)</span></p></td><td class=\"cl-4ac3a707\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">6 (14%)</span></p></td><td class=\"cl-4ac3a708\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">6 (15%)</span></p></td><td class=\"cl-4ac3a710\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">3 (7.7%)</span></p></td><td class=\"cl-4ac3a711\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">3 (9.1%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a712\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a71a\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">No change</span></p></td><td class=\"cl-4ac3a724\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">15 (50%)</span></p></td><td class=\"cl-4ac3a725\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">20 (48%)</span></p></td><td class=\"cl-4ac3a72e\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">10 (26%)</span></p></td><td class=\"cl-4ac3a72f\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">20 (51%)</span></p></td><td class=\"cl-4ac3a738\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">30 (91%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ac3a742\"><p class=\"cl-4ac36c00\"><span class=\"cl-4abfbc04\"></span></p></td><td class=\"cl-4ac3a743\"><p class=\"cl-4ac36c0a\"><span class=\"cl-4abfbc04\">Increase</span></p></td><td class=\"cl-4ac3a744\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">15 (50%)</span></p></td><td class=\"cl-4ac3a745\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">16 (38%)</span></p></td><td class=\"cl-4ac3a74c\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">23 (59%)</span></p></td><td class=\"cl-4ac3a74d\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">16 (41%)</span></p></td><td class=\"cl-4ac3a74e\"><p class=\"cl-4ac36c01\"><span class=\"cl-4abfbc04\">0 (0%)</span></p></td></tr></tbody><tfoot><tr style=\"overflow-wrap:break-word;\"><td  colspan=\"7\"class=\"cl-4ac3a756\"><p class=\"cl-4ac36bec\"><span class=\"cl-4abfbc05\">1</span><span class=\"cl-4abfbc06\">n (%)</span></p></td></tr></tfoot></table></div>\n```\n\n:::\n:::\n\n\nOr perhaps just this will suffice:\n\n\n::: {.cell .column-body-outset}\n\n```{.r .cell-code}\ntbl_merge(tbls = list(dat %>% \n                        mutate(\"Change in water intake\" = fct_case_when(post < pre ~ \"Decrease\",\n                                                                        pre == post ~ \"No change\",\n                                                                        post > pre ~ \"Increase\")) %>% \n                        filter(group == \"Control\") %>% \n                        select(\"Change in water intake\") %>% \n                        tbl_summary(), \n                      dat %>% \n                        mutate(\"Change in water intake\" = fct_case_when(post < pre ~ \"Decrease\",\n                                                                        pre == post ~ \"No change\",\n                                                                        post > pre ~ \"Increase\")) %>% \n                        filter(group == \"Intervention\") %>% \n                        select(\"Change in water intake\") %>% \n                        tbl_summary()),\n          tab_spanner = c(\"**Control**\", \"**Intervention**\")) %>% \n  thekids_table(colour = \"Saffron\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4b6e800e{table-layout:auto;}.cl-4b66a708{font-family:'Barlow';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;}.cl-4b66a726{font-family:'Barlow';font-size:6.6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(255, 255, 255, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-4b66a727{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(17, 25, 33, 1.00);background-color:transparent;}.cl-4b66a730{font-family:'Barlow';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-4b66a731{font-family:'Barlow';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4b694c2e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4b694c42{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4b694c43{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4b694c4c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:2pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4b694c4d{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:15pt;padding-right:2pt;line-height: 1.5;background-color:transparent;}.cl-4b696358{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696362{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696363{background-color:rgba(241, 180, 52, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69636c{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69636d{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69636e{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69636f{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696376{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69638a{background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69638b{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69638c{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696394{background-color:rgba(248, 218, 154, 1.00);vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696395{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b696396{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69639e{background-color:transparent;vertical-align: top;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b69639f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b6963a0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4b6963a8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4b6e800e'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4b696358\"><p class=\"cl-4b694c2e\"><span class=\"cl-4b66a708\"> </span></p></th><th class=\"cl-4b696362\"><p class=\"cl-4b694c42\"><span class=\"cl-4b66a708\">Control</span></p></th><th class=\"cl-4b696363\"><p class=\"cl-4b694c42\"><span class=\"cl-4b66a708\">Intervention</span></p></th></tr><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4b696358\"><p class=\"cl-4b694c2e\"><span class=\"cl-4b66a708\">Characteristic</span></p></th><th class=\"cl-4b696362\"><p class=\"cl-4b694c42\"><span class=\"cl-4b66a708\">N = 154</span><span class=\"cl-4b66a726\">1</span></p></th><th class=\"cl-4b696363\"><p class=\"cl-4b694c42\"><span class=\"cl-4b66a708\">N = 183</span><span class=\"cl-4b66a726\">1</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4b69636c\"><p class=\"cl-4b694c43\"><span class=\"cl-4b66a727\">Change in water intake</span></p></td><td class=\"cl-4b69636d\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\"></span></p></td><td class=\"cl-4b69636e\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\"></span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4b69636f\"><p class=\"cl-4b694c4d\"><span class=\"cl-4b66a727\">Decrease</span></p></td><td class=\"cl-4b696376\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">25 (16%)</span></p></td><td class=\"cl-4b69638a\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">18 (9.8%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4b69638b\"><p class=\"cl-4b694c4d\"><span class=\"cl-4b66a727\">No change</span></p></td><td class=\"cl-4b69638c\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">98 (64%)</span></p></td><td class=\"cl-4b696394\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">95 (52%)</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4b696395\"><p class=\"cl-4b694c4d\"><span class=\"cl-4b66a727\">Increase</span></p></td><td class=\"cl-4b696396\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">31 (20%)</span></p></td><td class=\"cl-4b69639e\"><p class=\"cl-4b694c4c\"><span class=\"cl-4b66a727\">70 (38%)</span></p></td></tr></tbody><tfoot><tr style=\"overflow-wrap:break-word;\"><td  colspan=\"3\"class=\"cl-4b69639f\"><p class=\"cl-4b694c2e\"><span class=\"cl-4b66a730\">1</span><span class=\"cl-4b66a731\">n (%)</span></p></td></tr></tfoot></table></div>\n```\n\n:::\n:::\n\n\n# Closing comments\n\nThe above isn't perfect—one could argue that there is no need to duplicate the figure headings and that the legend could be handled better. But is a figure ever perfect?\n\nThe figure does show all the raw data (counts and percentages), clearly delineates the pre and post data, gives some idea of the flow of data between levels, and highlights that in the post period, the intervention group comprised a higher proportion of level 5 responses. Combined with a summary table that shows the actual proportional movements from each pre (baseline) group—we are getting somewhere.\n\nAs mentioned, we'll return to bidirectional Likert data in a future post.\n\n# Acknowledgements\n\nThanks to Wesley Billingham and Dr Elizabeth McKinnon for providing feedback on and reviewing this post.\n\nYou can look forward to seeing posts from these other team members here in the coming weeks and months.\n\n## Reproducibility Information\n\nTo access the .qmd (Quarto markdown) files as well as any R scripts or data that was used in this post, please visit our GitHub:\n\n<https://github.com/The-Kids-Biostats/The-Kids-Biostats.github.io/tree/main/posts/>\n\nThe session information can also be seen below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   \n[3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      \n[5] LC_TIME=English_Australia.utf8    \n\ntime zone: Australia/Perth\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] thekidsbiostats_0.0.1 lubridate_1.9.3       forcats_1.0.0        \n [4] stringr_1.5.1         dplyr_1.1.4           purrr_1.0.2          \n [7] readr_2.1.5           tidyr_1.3.1           tibble_3.2.1         \n[10] tidyverse_2.0.0       extrafont_0.19        flextable_0.9.6      \n[13] gtsummary_2.0.2       gt_0.11.0             patchwork_1.3.0      \n[16] likert_1.3.5          xtable_1.8-4          ggalluvial_0.12.5    \n[19] ggplot2_3.5.1         ggsankey_0.0.99999    simstudy_0.8.1       \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.2.1        psych_2.4.6.26          viridisLite_0.4.2      \n [4] farver_2.1.2            fastmap_1.2.0           fontquiver_0.2.1       \n [7] janitor_2.2.0           labelled_2.13.0         digest_0.6.37          \n[10] timechange_0.3.0        lifecycle_1.0.4         magrittr_2.0.3         \n[13] compiler_4.4.1          rlang_1.1.4             tools_4.4.1            \n[16] igraph_2.0.3            utf8_1.2.4              yaml_2.3.10            \n[19] data.table_1.16.0       knitr_1.48              labeling_0.4.3         \n[22] askpass_1.2.0           htmlwidgets_1.6.4       mnormt_2.1.1           \n[25] plyr_1.8.9              xml2_1.3.6              withr_3.0.1            \n[28] grid_4.4.1              fansi_1.0.6             gdtools_0.4.0          \n[31] colorspace_2.1-1        extrafontdb_1.0         scales_1.3.0           \n[34] cli_3.6.3               rmarkdown_2.28          ragg_1.3.3             \n[37] generics_0.1.3          rstudioapi_0.16.0       bigmemory.sri_0.1.8    \n[40] reshape2_1.4.4          tzdb_0.4.0              parallel_4.4.1         \n[43] fastglm_0.0.3           vctrs_0.6.5             jsonlite_1.8.9         \n[46] fontBitstreamVera_0.1.1 hms_1.1.3               systemfonts_1.1.0      \n[49] glue_1.7.0              bigmemory_4.6.4         stringi_1.8.4          \n[52] gtable_0.3.5            munsell_0.5.1           pillar_1.9.0           \n[55] htmltools_0.5.8.1       biometrics_1.2.4        openssl_2.2.2          \n[58] R6_2.5.1                textshaping_0.4.0       kableExtra_1.4.0       \n[61] evaluate_1.0.0          lattice_0.22-6          haven_2.5.4            \n[64] cards_0.2.2             backports_1.5.0         broom_1.0.7            \n[67] snakecase_0.11.1        fontLiberation_0.1.0    Rcpp_1.0.13            \n[70] zip_2.3.1               uuid_1.2-1              svglite_2.1.3          \n[73] gridExtra_2.3           nlme_3.1-164            Rttf2pt1_1.3.12        \n[76] officer_0.6.6           xfun_0.47               pkgconfig_2.0.3        \n```\n\n\n:::\n:::\n",
    "supporting": [
      "likert_visualisations_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}